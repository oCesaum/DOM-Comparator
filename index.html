<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sitemap Comparator Robot - Compara√ß√£o de Sitemaps</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Depend√™ncias -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üîß DOM Comparator Universal</h1>
            <p>Ferramenta completa para compara√ß√£o de sitemaps e HTML com normaliza√ß√£o inteligente</p>
            <div class="feature-badge">
                <span class="badge">‚ú® NOVO: Compara√ß√£o autom√°tica de sitemaps</span>
            </div>
            
            <!-- Seletor de Modo -->
            <div class="mode-selector">
                <label class="mode-toggle">
                    <input type="radio" name="comparatorMode" value="sitemap" checked>
                    <span class="mode-option">
                        <span class="mode-icon">ü§ñ</span>
                        <span class="mode-label">Sitemap</span>
                    </span>
                </label>
                <label class="mode-toggle">
                    <input type="radio" name="comparatorMode" value="html">
                    <span class="mode-option">
                        <span class="mode-icon">üîß</span>
                        <span class="mode-label">HTML</span>
                    </span>
                </label>
            </div>
        </header>

        <div class="content">
            <!-- Configura√ß√£o do Site -->
            <section class="site-config-section">
                <h2>üåê Configura√ß√£o do Site</h2>
                <div class="site-input-group">
                    <div class="form-group">
                        <label for="siteUrl" class="form-label">URL do Site:</label>
                        <input type="url" id="siteUrl" class="form-control" placeholder="https://exemplo.com" required>
                    </div>
                    <div class="form-group">
                        <label for="sitemapUrl" class="form-label">URL do Sitemap (opcional):</label>
                        <input type="url" id="sitemapUrl" class="form-control" placeholder="https://exemplo.com/sitemap.xml">
                        <small class="form-text">Deixe vazio para buscar automaticamente</small>
                    </div>
                </div>
                <div class="site-actions">
                    <button id="fetchSitemapBtn" class="btn btn--primary btn--large">
                        üîç Buscar Sitemap
                    </button>
                    <button id="compareWithSelfBtn" class="btn btn--highlight btn--large">
                        üîÑ Comparar Consigo Mesmo
                    </button>
                    <button id="manualSitemapBtn" class="btn btn--outline btn--large">
                        üìã Inserir Manualmente
                    </button>
                </div>
            </section>

            <!-- Interface do Comparador HTML (oculta por padr√£o) -->
            <div id="htmlComparatorInterface" class="html-comparator-interface hidden">
                <!-- Exemplos -->
                <section class="examples-section">
                    <h2>Exemplos Pr√©-definidos</h2>
                    <div class="examples-grid">
                        <button class="btn btn--secondary" onclick="loadExample('estilo')">
                            Exemplo: Mudan√ßa de Estilo
                        </button>
                        <button class="btn btn--secondary" onclick="loadExample('texto')">
                            Exemplo: Mudan√ßa de Texto
                        </button>
                        <button class="btn btn--secondary" onclick="loadExample('atributo')">
                            Exemplo: Mudan√ßa de Atributo
                        </button>
                        <button class="btn btn--secondary" onclick="loadExample('estrutura')">
                            Exemplo: Mudan√ßa de Estrutura
                        </button>
                        <button class="btn btn--highlight" onclick="loadExample('formatacao')">
                            üÜï Exemplo: Formata√ß√£o Diferente
                        </button>
                        <button class="btn btn--outline" onclick="clearFields()">
                            Limpar Campos
                        </button>
                    </div>
                </section>

                <!-- Controles de Normaliza√ß√£o -->
                <section class="normalization-section">
                    <h3>Op√ß√µes de Normaliza√ß√£o</h3>
                    <div class="options-grid">
                        <label class="checkbox-container">
                            <input type="checkbox" id="normalizeWhitespace" checked>
                            <span class="checkmark"></span>
                            <span class="label-text">Normalizar espa√ßos em branco e quebras de linha</span>
                        </label>
                        <label class="checkbox-container">
                            <input type="checkbox" id="normalizeAttributes" checked>
                            <span class="checkmark"></span>
                            <span class="label-text">Ordenar atributos alfabeticamente</span>
                        </label>
                        <label class="checkbox-container">
                            <input type="checkbox" id="ignoreComments" checked>
                            <span class="checkmark"></span>
                            <span class="label-text">Ignorar coment√°rios HTML</span>
                        </label>
                        <label class="checkbox-container">
                            <input type="checkbox" id="normalizeCase" checked>
                            <span class="checkmark"></span>
                            <span class="label-text">Normalizar mai√∫sculas/min√∫sculas de tags</span>
                        </label>
                    </div>
                </section>

                <!-- √Åreas de HTML -->
                <div class="html-grid">
                    <div class="html-column">
                        <h3>HTML A (Original) *</h3>
                        <textarea id="htmlA" placeholder="Cole aqui o c√≥digo HTML original..."></textarea>
                        <div class="normalized-preview">
                            <h4>Pr√©via Normalizada:</h4>
                            <pre id="normalizedA" class="normalized-code"></pre>
                        </div>
                    </div>
                    <div class="html-column">
                        <h3>HTML B (Modificado) *</h3>
                        <textarea id="htmlB" placeholder="Cole aqui o c√≥digo HTML modificado..."></textarea>
                        <div class="normalized-preview">
                            <h4>Pr√©via Normalizada:</h4>
                            <pre id="normalizedB" class="normalized-code"></pre>
                        </div>
                    </div>
                </div>

                <!-- Bot√µes de Compara√ß√£o HTML -->
                <section class="compare-section">
                    <button id="compareHtmlBtn" class="btn btn--primary btn--large">
                        Comparar HTML com Normaliza√ß√£o Inteligente
                    </button>
                    <button id="previewBtn" class="btn btn--secondary btn--large">
                        Pr√©via da Normaliza√ß√£o
                    </button>
                </section>

                <!-- Status da Normaliza√ß√£o -->
                <section id="normalizationStatus" class="status-section hidden">
                    <div class="status-header">
                        <span class="status-icon">üìã</span>
                        <h3>Status da Normaliza√ß√£o</h3>
                    </div>
                    <div id="normalizationInfo" class="status-info"></div>
                </section>
            </div>

            <!-- Status do Sitemap -->
            <section id="sitemapStatus" class="status-section hidden">
                <div class="status-header">
                    <span class="status-icon">üìã</span>
                    <h3>Status do Sitemap</h3>
                </div>
                <div id="sitemapInfo" class="status-info"></div>
            </section>

            <!-- √Åreas de Sitemap -->
            <div class="sitemap-grid">
                <div class="sitemap-column">
                    <h3>Sitemap A (Original) *</h3>
                    <textarea id="sitemapA" placeholder="Cole aqui o sitemap original ou deixe o rob√¥ buscar..."></textarea>
                    <div class="sitemap-preview">
                        <h4>Pr√©via do Sitemap:</h4>
                        <pre id="previewA" class="sitemap-code"></pre>
                    </div>
                </div>
                <div class="sitemap-column">
                    <h3>Sitemap B (Compara√ß√£o) *</h3>
                    <textarea id="sitemapB" placeholder="Cole aqui o sitemap para compara√ß√£o..."></textarea>
                    <div class="sitemap-preview">
                        <h4>Pr√©via do Sitemap:</h4>
                        <pre id="previewB" class="sitemap-code"></pre>
                    </div>
                </div>
            </div>


            <!-- Bot√£o Comparar -->
            <section class="compare-section">
                <button id="compareBtn" class="btn btn--primary btn--large">
                    üîç Comparar Sitemaps
                </button>
                <button id="analyzeBtn" class="btn btn--secondary btn--large">
                    üìä Analisar Sitemap
                </button>
            </section>

            <!-- Status da An√°lise -->
            <section id="analysisStatus" class="status-section hidden">
                <div class="status-header">
                    <span class="status-icon">üìä</span>
                    <h3>Status da An√°lise</h3>
                </div>
                <div id="analysisInfo" class="status-info"></div>
            </section>

            <!-- Resultados -->
            <section id="resultSection" class="results-section hidden">
                <div class="results-header">
                    <span id="operationCount" class="operation-count">0 diferen√ßas</span>
                    <h3>An√°lise Completa dos Sitemaps</h3>
                </div>
                
                <div class="comparison-methods">
                    <!-- M√©todos do Comparador de Sitemap -->
                    <div id="sitemapMethods">
                        <!-- M√©todo 1: Compara√ß√£o de URLs -->
                        <div class="method-card method-card--primary">
                            <h4>üîó Compara√ß√£o de URLs</h4>
                            <p>Detecta URLs adicionadas, removidas ou modificadas no sitemap.</p>
                            <div id="urlResult" class="method-result"></div>
                        </div>

                        <!-- M√©todo 2: An√°lise de Prioridades -->
                        <div class="method-card">
                            <h4>‚≠ê An√°lise de Prioridades</h4>
                            <p>Compara valores de prioridade (priority) entre os sitemaps.</p>
                            <div id="priorityResult" class="method-result"></div>
                        </div>

                        <!-- M√©todo 3: An√°lise de Frequ√™ncias -->
                        <div class="method-card">
                            <h4>üîÑ An√°lise de Frequ√™ncias</h4>
                            <p>Detecta mudan√ßas nas frequ√™ncias de atualiza√ß√£o (changefreq).</p>
                            <div id="frequencyResult" class="method-result"></div>
                        </div>

                        <!-- M√©todo 4: An√°lise de Datas -->
                        <div class="method-card">
                            <h4>üìÖ An√°lise de Datas</h4>
                            <p>Compara datas de √∫ltima modifica√ß√£o (lastmod) entre os sitemaps.</p>
                            <div id="dateResult" class="method-result"></div>
                        </div>

                        <!-- M√©todo 5: Estat√≠sticas Gerais -->
                        <div class="method-card">
                            <h4>üìä Estat√≠sticas Gerais</h4>
                            <p>Mostra estat√≠sticas comparativas dos dois sitemaps.</p>
                            <div id="statsResult" class="method-result"></div>
                        </div>
                    </div>

                    <!-- M√©todos do Comparador HTML -->
                    <div id="htmlMethods" class="hidden">
                        <!-- M√©todo 1: Compara√ß√£o Normalizada -->
                        <div class="method-card method-card--primary">
                            <h4>üéØ Compara√ß√£o Normalizada</h4>
                            <p>Compara HTML ap√≥s normaliza√ß√£o, ignorando formata√ß√£o irrelevante.</p>
                            <div id="normalizedResult" class="method-result"></div>
                        </div>

                        <!-- M√©todo 2: Compara√ß√£o Textual Original -->
                        <div class="method-card">
                            <h4>üî§ Compara√ß√£o Textual Original</h4>
                            <p>Compara o c√≥digo como texto puro, detectando qualquer mudan√ßa.</p>
                            <div id="textResult" class="method-result"></div>
                        </div>

                        <!-- M√©todo 3: DOM Comparator Original -->
                        <div class="method-card">
                            <h4>üîß DOM Comparator (Wingify)</h4>
                            <p>An√°lise estrutural usando a biblioteca original da Wingify.</p>
                            <div id="domResult" class="method-result"></div>
                        </div>

                        <!-- M√©todo 4: An√°lise de Atributos -->
                        <div class="method-card">
                            <h4>üìù An√°lise de Atributos e Estilos</h4>
                            <p>Detecta especificamente mudan√ßas em atributos, classes e estilos.</p>
                            <div id="attributeResult" class="method-result"></div>
                        </div>

                        <!-- M√©todo 5: Compara√ß√£o Hash -->
                        <div class="method-card">
                            <h4>üîê Compara√ß√£o por Hash</h4>
                            <p>Gera hash √∫nico para cada elemento e detecta diferen√ßas.</p>
                            <div id="hashResult" class="method-result"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Erro -->
            <section id="errorSection" class="results-section error-section hidden">
                <h3>‚ùå Erro na Compara√ß√£o</h3>
                <p id="errorMessage"></p>
            </section>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
